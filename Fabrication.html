<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <title>FABRICATION</title>

    <script src="node_modules/gridstack/dist/gridstack-all.js"></script>
    <link href="node_modules/gridstack/dist/gridstack.min.css" rel="stylesheet"/>
    <style type="text/css">
        /* .grid-stack {
            background: #FAFAD2;
            width: 2160px;
            height: 3840px;
        } */
        .grid-stack-item-content {
            overflow: visible !important;
        }

        /* Give border */
        .grid-stack-item-content:not(:has(#GembaName)) {
            border: 6px solid black;
            border-radius: 33px;
        }

        body {
            width: 2160px;
            height: 3840px;
            margin: 0px;
        }

        .grid-stack-item-content {
            display: flex;
            justify-content: center; /* Centers content horizontally */
            align-items: center;     /* Centers content vertically */
        }
        #theBackground {
            position: absolute;
            top: 0;
            left: 0;
            width: 2160px;
            height: 3840px;
            /* background-color: #f0f0f0; */
            z-index: -1; /* Ensure it's behind other content */
        }
        #GembaName {
            font-size: 99pt;
            font-family: "PT Serif";
            width: 100%;
            text-align: center;
            overflow: visible;
        }
        canvas {
            z-index: -1;
        }
    </style>
    <script src="scripts/imageLoading.js"></script>
    <script src="scripts/imageDrawing.js"></script>
    <script src="scripts/gridStackManager.js"></script>
</head>
<body>

    <!-- The background div -->
    <div id="theBackground"></div>
    <div class="grid-stack"></div>

    <script type="text/javascript">
    
    const defaultGridStackConfig = {
        "safety_display_Fabrication": {
            "id": "safety_display_Fabrication",
            "imageUrl": "svg_files/safety_display_Fabrication.svg",
            "seqNumber": "12227",
            "gridPosition": { "x": 0, "y": 1, "w": 6, "h": 7 }
        },
        "Quality_Fabriction.xlsm_Display.svg": {
            "id": "Quality_Fabriction.xlsm_Display.svg",
            "imageUrl": "svg_files/Quality_Fabriction.xlsm_Display.svg",
            "seqNumber": "12227",
            "gridPosition": { "x": 6, "y": 1, "w": 6, "h": 7 }
        },
        "ContinuousImprovement.xlsm_Fabrication.svg": {
            "id": "ContinuousImprovement.xlsm_Fabrication.svg",
            "imageUrl": "svg_files/ContinuousImprovement.xlsm_Fabrication.svg",
            "seqNumber": "12227",
            "gridPosition": { "x": 6, "y": 15, "w": 6, "h": 4 }
        },
        "DirIndir_Fabrication.xlsm_Display.svg": {
            "id": "DirIndir_Fabrication.xlsm_Display.svg",
            "imageUrl": "svg_files/DirIndir_Fabrication.xlsm_Display.svg",
            "seqNumber": "12227",
            "gridPosition": { "x": 6, "y": 8, "w": 6, "h": 7 }
        },
        "TITLE": {
            "id": "TITLE",
            "gridPosition": { "x": 0, "y": 0, "w": 12, "h": 1 },
            "content": "<div id=\"GembaName\">FABRICATION GEMBA BOARD</div>"
        },
        "LoadHoursForecast.xlsx_FabDisplay": {
            "id": "LoadHoursForecast.xlsx_FabDisplay",
            "imageUrl": "svg_files/LoadHoursForecast.xlsx_FabDisplay.svg",
            "seqNumber": 4,
            "gridPosition": { "x": 0, "y": 8, "w": 6, "h": 13 }
        }
    };
    const LOCAL_STORAGE_KEY = 'Fabrication_GembaBoard_GridStackConfig';
    console.log('Initializing gridstack');
    initializeGridStack();

    // For now, force a reload. Eventually though...
    const n = 15; // minutes
    setTimeout(() => {
        window.location.href = window.location.pathname + "?t=" + new Date().getTime();
    }, n * 1000 * 60);

    </script>
</body>
</html>
