<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <title>Main Board</title>

    <script type="text/javascript" src="node_modules/gridstack/dist/gridstack-all.js"></script>
    <link type="text/css" href="node_modules/gridstack/dist/gridstack.min.css" rel="stylesheet"/>
    <style type="text/css">
        /* .grid-stack {
            background: #FAFAD2;
            width: 2160px;
            height: 3840px;
        } */
        .grid-stack-item-content {
            overflow: visible !important;
        }

        /* Give border */
        .grid-stack-item-content:not(:has(#GembaName)) {
            border: 6px solid black;
            border-radius: 33px;
        }

        body {
            width: 3840px;
            height: 2160px;
            margin: 0px;
        }

        .grid-stack-item-content {
            display: flex;
            justify-content: center; /* Centers content horizontally */
            align-items: center;     /* Centers content vertically */
        }
        #theBackground {
            position: absolute;
            top: 0;
            left: 0;
            width: 3840px;
            height: 2160px;
            /* background-color: #f0f0f0; */
            z-index: -1; /* Ensure it's behind other content */
        }
        #GembaName {
            font-size: 99pt;
            font-family: "PT Serif";
            width: 100%;
            text-align: center;
            overflow: visible;
        }
        canvas {
            z-index: -1;
        }
    </style>
    <script type="text/javascript" src="scripts/imageLoading.js?v=1"></script>
    <script type="text/javascript" src="scripts/imageDrawing.js?v=1"></script>
    <script type="text/javascript" src="scripts/gridStackManager.js?v=1"></script>
</head>
<body>

    <!-- The background div -->
    <div id="theBackground"></div>
    <div class="grid-stack"></div>

    <script type="text/javascript">
    
    const TV_SIZE = 'TV_WIDE_SMALL';
    const defaultGridStackConfig = {
        "safety_display_Company": {
            "id": "safety_display_Company",
            "imageUrl": "svg_files/safety_display_Company.svg",
            "seqNumber": "12227",
            "gridPosition": {
                "x": 0,
                "y": 0,
                "w": 1,
                "h": 4
            }
        },
        "Quality_ALL_DEPARTMENTS.xlsm_Display.svg": {
            "id": "Quality_ALL_DEPARTMENTS.xlsm_Display.svg",
            "imageUrl": "svg_files/Quality_ALL_DEPARTMENTS.xlsm_Display.svg",
            "seqNumber": "12227",
            "gridPosition": {
                "x": 1,
                "y": 0,
                "w": 1,
                "h": 4
            }
        },
        "DeliveryOnTime.xlsm_Display.svg": {
            "id": "DeliveryOnTime.xlsm_Display.svg",
            "imageUrl": "svg_files/DeliveryOnTime.xlsm_Display.svg",
            "seqNumber": "12227",
            "gridPosition": {
                "x": 2,
                "y": 0,
                "w": 1,
                "h": 4
            }
        },
        "DirIndir_ALL_DEPARTMENTS.xlsm_Display.svg": {
            "id": "DirIndir_ALL_DEPARTMENTS.xlsm_Display.svg",
            "imageUrl": "svg_files/DirIndir_ALL_DEPARTMENTS.xlsm_Display.svg",
            "seqNumber": "12227",
            "gridPosition": {
                "x": 3,
                "y": 0,
                "w": 1,
                "h": 4
            }
        },
        "Revenue.xlsm_Display": {
            "id": "Revenue.xlsm_Display",
            "imageUrl": "svg_files/Revenue.xlsm_Display.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 4,
                "y": 0,
                "w": 1,
                "h": 4
            }
        },
        "ContinuousImprovement.xlsm_Company": {
            "id": "ContinuousImprovement.xlsm_Company",
            "imageUrl": "svg_files/ContinuousImprovement.xlsm_Company.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 0,
                "y": 4,
                "w": 1,
                "h": 2
            }
        },
        "SalesHours_Company.xlsm_Display": {
            "id": "SalesHours_Company.xlsm_Display",
            "imageUrl": "svg_files/SalesHours_Company.xlsm_Display.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 1,
                "y": 4,
                "w": 1,
                "h": 4
            }
        },
        "SalesHoursByRep.xlsx_HoursPerPod": {
            "id": "SalesHoursByRep.xlsx_HoursPerPod",
            "imageUrl": "svg_files/SalesHoursByRep.xlsx_HoursPerPod.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 0,
                "y": 6,
                "w": 1,
                "h": 2
            }
        },
        "AR_AGING_OVERDUE.xlsm_DisplayBucketed": {
            "id": "AR_AGING_OVERDUE.xlsm_DisplayBucketed",
            "imageUrl": "svg_files/AR_AGING_OVERDUE.xlsm_DisplayBucketed.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 2,
                "y": 4,
                "w": 1,
                "h": 4
            }
        },
        "LoadHoursRemaining_ALL_DEPARTMENTS.xlsm_Display": {
            "id": "LoadHoursRemaining_ALL_DEPARTMENTS.xlsm_Display",
            "imageUrl": "svg_files/LoadHoursRemaining_ALL_DEPARTMENTS.xlsm_Display.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 3,
                "y": 4,
                "w": 1,
                "h": 4
            }
        },
        "AP_Unreceived.xlsm_Display": {
            "id": "AP_Unreceived.xlsm_Display",
            "imageUrl": "svg_files/AP_Unreceived.xlsm_Display.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 4,
                "y": 4,
                "w": 1,
                "h": 2
            }
        },
        "AP_ReceivedNotInvoiced.xlsm_Display": {
            "id": "AP_ReceivedNotInvoiced.xlsm_Display",
            "imageUrl": "svg_files/AP_ReceivedNotInvoiced.xlsm_Display.svg",
            "seqNumber": 4,
            "gridPosition": {
                "x": 4,
                "y": 6,
                "w": 1,
                "h": 2
            }
        }
    };
    const LOCAL_STORAGE_KEY = 'MainBoard_GembaBoard_GridStackConfig';
    console.log('Initializing gridstack');
    initializeGridStack();

    // For now, force a reload. Eventually though...
    const n = 15; // minutes
    setTimeout(() => {
        window.location.href = window.location.pathname + "?t=" + new Date().getTime();
    }, n * 1000 * 60);

    </script>
</body>
</html>
